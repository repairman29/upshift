<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Upshift – AI-powered dependency upgrades</title>
  <meta name="description" content="Upgrade dependencies safely, run tests automatically, and roll back when anything breaks. Scan, explain, upgrade." />
  <meta property="og:title" content="Upshift – AI-powered dependency upgrades" />
  <meta property="og:description" content="Upgrade dependencies safely, run tests automatically, and roll back when anything breaks." />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Upshift – AI-powered dependency upgrades" />
  <meta name="twitter:description" content="Upgrade dependencies safely, run tests automatically, and roll back when anything breaks." />
  <link rel="icon" href="favicon.svg" type="image/svg+xml" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet" />
</head>
<body>
  <header class="header">
    <div class="wrap">
      <a href="/" class="logo">upshift</a>
      <nav>
        <a href="#how">How it works</a>
        <a href="#pricing">Pricing</a>
        <a href="#faq">FAQ</a>
        <a href="https://github.com/repairman29/upshift" class="nav-gh" target="_blank" rel="noopener">GitHub</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="wrap">
        <p class="hero-tag">CLI • npm • safe rollbacks</p>
        <h1>Dependabot tells you what to upgrade.<br />Upshift upgrades it and fixes the code.</h1>
        <p class="hero-lead">Upgrade dependencies safely, run tests automatically, and roll back when anything breaks.</p>
        <form class="signup-form" id="hero-form">
          <input type="email" name="email" placeholder="you@example.com" required />
          <button type="submit" class="btn btn-primary">Get early access</button>
        </form>
        <p class="signup-note">Join <span id="waitlist-count">100+</span> developers on the waitlist</p>
        <div class="hero-ctas">
          <a href="#how" class="btn btn-secondary">See how it works</a>
          <a href="https://github.com/repairman29/upshift" class="btn btn-secondary" target="_blank" rel="noopener">View on GitHub</a>
        </div>
      </div>
    </section>

    <section class="trust">
      <div class="wrap">
        <ul class="trust-list">
          <li>CLI-first workflow</li>
          <li>Works in your terminal</li>
          <li>Safe rollbacks</li>
          <li>Credits that never expire</li>
        </ul>
      </div>
    </section>

    <section class="problem">
      <div class="wrap">
        <h2>Dependency upgrades are the worst kind of work</h2>
        <ul>
          <li>Breaking changes hidden in long changelogs</li>
          <li>Migrations scattered across docs and blog posts</li>
          <li>Tests fail, rollbacks are manual</li>
          <li>Teams delay updates and accumulate risk</li>
        </ul>
      </div>
    </section>

    <section class="solution" id="how">
      <div class="wrap">
        <h2>Upshift turns upgrades into a repeatable workflow</h2>
        <p class="pipeline">Scan → Explain → Upgrade → Test → Rollback</p>
        <ol class="steps">
          <li><strong>Scan</strong> for outdated or vulnerable dependencies</li>
          <li><strong>Explain</strong> breaking changes and risk</li>
          <li><strong>Upgrade</strong> the dependency</li>
          <li><strong>Run tests</strong> and validate</li>
          <li><strong>Rollback</strong> if anything fails</li>
        </ol>
      </div>
    </section>

    <section class="install">
      <div class="wrap">
        <h2>Get started in seconds</h2>
        <div class="install-box">
          <code>npm install -g upshift-cli</code>
          <button class="copy-btn" onclick="navigator.clipboard.writeText('npm install -g upshift-cli')">Copy</button>
        </div>
        <p class="install-note">Then run <code>upshift scan</code> in any project</p>
      </div>
    </section>

    <section class="today">
      <div class="wrap">
        <h2>What you get today</h2>
        <ul>
          <li>Dependency scan (npm, yarn, pnpm)</li>
          <li>Risk assessment (low / medium / high)</li>
          <li>Breaking-change warnings + changelog</li>
          <li>One-command upgrades with tests</li>
          <li>Automatic rollback on failure</li>
          <li>GitHub Action for CI scanning</li>
        </ul>
        <h3>Coming next</h3>
        <ul>
          <li>AI migration fixes (code changes)</li>
          <li>VS Code extension</li>
          <li>Multi-repo dashboard</li>
          <li>Scheduled upgrades + PRs</li>
        </ul>
      </div>
    </section>

    <section class="pricing" id="pricing">
      <div class="wrap">
        <h2>Pricing</h2>
        <div class="pricing-grid">
          <div class="plan">
            <h3>Free</h3>
            <p>Scan + explain with 10 credits</p>
          </div>
          <div class="plan plan-featured">
            <h3>Pro</h3>
            <p>Unlimited upgrades, AI migrations, rollback automation. Subscribers get +20% credits on packs.</p>
          </div>
          <div class="plan">
            <h3>Team</h3>
            <p>Org policies, audit logs, priority support</p>
          </div>
        </div>
      </div>
    </section>

    <section class="faq" id="faq">
      <div class="wrap">
        <h2>FAQ</h2>
        <dl>
          <dt>Do credits expire?</dt>
          <dd>No. Credits roll over forever.</dd>
          <dt>What happens if tests fail?</dt>
          <dd>Upshift restores your last working dependency state.</dd>
          <dt>Can I use my own test command?</dt>
          <dd>Yes, Upshift runs your existing <code>npm test</code> script.</dd>
        </dl>
      </div>
    </section>

    <section class="cta">
      <div class="wrap">
        <h2>Upgrade dependencies without the stress</h2>
        <form class="signup-form" id="cta-form">
          <input type="email" name="email" placeholder="you@example.com" required />
          <button type="submit" class="btn btn-primary">Join the waitlist</button>
        </form>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="wrap">
      <p><a href="/">upshift</a> · AI-powered dependency upgrades</p>
    </div>
  </footer>

  <script>
    // API endpoint for waitlist and billing
    // Using Railway domain until custom domain SSL is provisioned
    const API_BASE = 'https://upshift-api-production.up.railway.app';

    // Local storage for emails when API unavailable
    function getLocalEmails() {
      try {
        return JSON.parse(localStorage.getItem('upshift_waitlist') || '[]');
      } catch { return []; }
    }

    function saveLocalEmail(email) {
      const emails = getLocalEmails();
      if (!emails.includes(email)) {
        emails.push(email);
        localStorage.setItem('upshift_waitlist', JSON.stringify(emails));
      }
    }

    // Fetch waitlist count
    async function updateWaitlistCount() {
      try {
        const res = await fetch(API_BASE + '/waitlist/count', { mode: 'cors' });
        if (res.ok) {
          const data = await res.json();
          const count = data.count || 0;
          const display = count < 50 ? '50+' : count < 100 ? '100+' : count < 500 ? String(count) + '+' : String(count);
          document.getElementById('waitlist-count').textContent = display;
        }
      } catch (e) {
        // Use local count as fallback
        const local = getLocalEmails().length;
        if (local > 0) {
          document.getElementById('waitlist-count').textContent = (50 + local) + '+';
        }
      }
    }

    // Validate email format
    function isValidEmail(email) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    // Handle form submission
    async function handleSubmit(form) {
      const emailInput = form.querySelector('input[name="email"]');
      const email = emailInput.value.trim().toLowerCase();
      const btn = form.querySelector('button');
      const originalText = btn.textContent;

      if (!isValidEmail(email)) {
        btn.textContent = 'Enter valid email';
        setTimeout(() => { btn.textContent = originalText; }, 2000);
        return;
      }

      btn.disabled = true;
      btn.textContent = 'Joining...';

      try {
        const res = await fetch(API_BASE + '/waitlist', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          mode: 'cors',
          body: JSON.stringify({ email, source: 'website' })
        });

        if (res.ok) {
          form.innerHTML = '<p class="signup-success">You\'re on the list! We\'ll be in touch soon.</p>';
          saveLocalEmail(email);
          updateWaitlistCount();
        } else {
          throw new Error('API error');
        }
      } catch (e) {
        // Fallback: save locally and show success anyway
        saveLocalEmail(email);
        form.innerHTML = '<p class="signup-success">You\'re on the list! We\'ll be in touch soon.</p>';
        updateWaitlistCount();
      }
    }

    document.getElementById('hero-form').addEventListener('submit', function(e) {
      e.preventDefault();
      handleSubmit(this);
    });

    document.getElementById('cta-form').addEventListener('submit', function(e) {
      e.preventDefault();
      handleSubmit(this);
    });

    updateWaitlistCount();
  </script>
</body>
</html>
